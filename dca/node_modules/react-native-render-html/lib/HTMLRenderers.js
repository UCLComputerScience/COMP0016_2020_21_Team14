var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.a=a;exports.img=img;exports.ul=ul;exports.pre=pre;exports.br=br;exports.textwrapper=textwrapper;exports.ol=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _HTMLStyles=require("./HTMLStyles");var _HTMLImage=_interopRequireDefault(require("./HTMLImage"));var _jsxFileName="/home/jsamr/Programmation/react-native-render-html/src/HTMLRenderers.js";function getTextProps(passProps){var selectable=passProps.selectable,allowFontScaling=passProps.allowFontScaling,defaultTextProps=passProps.defaultTextProps;return(0,_extends2.default)({selectable:selectable,allowFontScaling:allowFontScaling},defaultTextProps);}function getImgProps(passProps){var computeEmbeddedMaxWidth=passProps.computeEmbeddedMaxWidth,imagesInitialDimensions=passProps.imagesInitialDimensions,enableExperimentalPercentWidth=passProps.enableExperimentalPercentWidth,contentWidth=passProps.contentWidth;return{computeImagesMaxWidth:function computeImagesMaxWidth(cw){return computeEmbeddedMaxWidth(cw,"img");},imagesInitialDimensions:imagesInitialDimensions,enableExperimentalPercentWidth:enableExperimentalPercentWidth,contentWidth:contentWidth};}function normalizeUri(uri){return uri.startsWith("//")?"https:"+uri:uri;}function a(htmlAttribs,children,convertedCSSStyles,passProps){var style=(0,_HTMLStyles.constructStyles)({tagName:"a",htmlAttribs:htmlAttribs,passProps:passProps,styleSet:passProps.parentWrapper==="Text"?"TEXT":"VIEW"});var parentWrapper=passProps.parentWrapper,onLinkPress=passProps.onLinkPress,key=passProps.key,data=passProps.data;var textProps=getTextProps(passProps);var onPress=function onPress(evt){return onLinkPress&&htmlAttribs&&htmlAttribs.href?onLinkPress(evt,htmlAttribs.href,htmlAttribs):undefined;};if(parentWrapper==="Text"){return _react.default.createElement(_reactNative.Text,(0,_extends2.default)({testID:"a-renderer"},textProps,{style:style,onPress:onPress,key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:7}}),children||data);}else{return _react.default.createElement(_reactNative.TouchableOpacity,{onPress:onPress,key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:64,columnNumber:7}},children||data);}}function img(htmlAttribs,children,convertedCSSStyles){var _ref=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},key=_ref.key,passProps=(0,_objectWithoutProperties2.default)(_ref,["key"]);if(!htmlAttribs.src){return false;}var style=(0,_HTMLStyles.constructStyles)({tagName:"img",htmlAttribs:htmlAttribs,passProps:passProps,styleSet:"IMAGE"});var src=htmlAttribs.src,alt=htmlAttribs.alt,width=htmlAttribs.width,height=htmlAttribs.height;return _react.default.createElement(_HTMLImage.default,(0,_extends2.default)({source:{uri:normalizeUri(src)},alt:alt,width:width,height:height,style:style,key:key,testID:"img"},getImgProps(passProps),{__self:this,__source:{fileName:_jsxFileName,lineNumber:89,columnNumber:5}}));}function ul(htmlAttribs,children,convertedCSSStyles){var _this=this;var passProps=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var style=(0,_HTMLStyles.constructStyles)({tagName:"ul",htmlAttribs:htmlAttribs,passProps:passProps,styleSet:"VIEW"});var transientChildren=passProps.transientChildren,nodeIndex=passProps.nodeIndex,key=passProps.key,baseFontStyle=passProps.baseFontStyle,listsPrefixesRenderers=passProps.listsPrefixesRenderers;var baseFontSize=baseFontStyle.fontSize||14;var textProps=getTextProps(passProps);children=children&&children.map(function(child,index){var rawChild=transientChildren[index];var prefix=false;var rendererArgs=[htmlAttribs,children,convertedCSSStyles,(0,_extends2.default)({},passProps,{index:index})];if(rawChild){if(rawChild.parentTag==="ul"&&rawChild.tagName==="li"){prefix=listsPrefixesRenderers&&listsPrefixesRenderers.ul?listsPrefixesRenderers.ul.apply(listsPrefixesRenderers,rendererArgs):_react.default.createElement(_reactNative.View,{style:{marginRight:10,width:baseFontSize/2.8,height:baseFontSize/2.8,marginTop:baseFontSize/2,borderRadius:baseFontSize/2.8,backgroundColor:"black"},__self:_this,__source:{fileName:_jsxFileName,lineNumber:139,columnNumber:15}});}else if(rawChild.parentTag==="ol"&&rawChild.tagName==="li"){prefix=listsPrefixesRenderers&&listsPrefixesRenderers.ol?listsPrefixesRenderers.ol.apply(listsPrefixesRenderers,rendererArgs):_react.default.createElement(_reactNative.Text,(0,_extends2.default)({},textProps,{style:{marginRight:5,fontSize:baseFontSize},__self:_this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:15}}),index+1,")");}}return _react.default.createElement(_reactNative.View,{key:"list-"+nodeIndex+"-"+index+"-"+key,style:{flexDirection:"row",marginBottom:10},__self:_this,__source:{fileName:_jsxFileName,lineNumber:165,columnNumber:9}},prefix,_react.default.createElement(_reactNative.View,{style:{flex:1},__self:_this,__source:{fileName:_jsxFileName,lineNumber:170,columnNumber:11}},child));});return _react.default.createElement(_reactNative.View,{style:style,key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:175,columnNumber:5}},children);}var ol=ul;exports.ol=ol;function pre(htlmAttribs,children,convertedCSSStyles,passProps){return _react.default.createElement(_reactNative.Text,(0,_extends2.default)({key:passProps.key},getTextProps(passProps),{style:{fontFamily:_reactNative.Platform.OS==="android"?"monospace":"Menlo"},__self:this,__source:{fileName:_jsxFileName,lineNumber:184,columnNumber:5}}),children);}function br(htlmAttribs,children,convertedCSSStyles,passProps){return _react.default.createElement(_reactNative.Text,(0,_extends2.default)({},getTextProps(passProps),{style:{height:1.2*passProps.emSize,flex:1},key:passProps.key,__self:this,__source:{fileName:_jsxFileName,lineNumber:196,columnNumber:5}}),"\n");}function textwrapper(htmlAttribs,children,convertedCSSStyles,_ref2){var key=_ref2.key,passProps=(0,_objectWithoutProperties2.default)(_ref2,["key"]);return _react.default.createElement(_reactNative.Text,(0,_extends2.default)({},getTextProps(passProps),{key:key,style:convertedCSSStyles,__self:this,__source:{fileName:_jsxFileName,lineNumber:213,columnNumber:5}}),children);}